<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä</title>
    <link rel="stylesheet" href="src/ui/layout.css">
    <link rel="stylesheet" href="src/ui/themes/light.css" id="theme">
</head>
<body>
    <div class="editor-container" id="editorContainer">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="toolbar" id="toolbar">
            <!-- –ì—Ä—É–ø–ø–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ -->
            <div class="toolbar-group">
                <select class="toolbar-select format-select">
                    <option value="p">–ê–±–∑–∞—Ü</option>
                    <option value="h1">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1</option>
                    <option value="h2">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 2</option>
                    <option value="h3">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 3</option>
                    <option value="h4">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 4</option>
                    <option value="h5">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 5</option>
                    <option value="h6">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 6</option>
                    <option value="pre">–ö–æ–¥</option>
                </select>
                
                <select class="toolbar-select font-family">
                    <option value="">–®—Ä–∏—Ñ—Ç</option>
                    <option value="Arial">Arial</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Courier New">Courier New</option>
                </select>
                
                <select class="toolbar-select font-size">
                    <option value="">–†–∞–∑–º–µ—Ä</option>
                    <option value="12px">–ú–µ–ª–∫–∏–π</option>
                    <option value="14px">–û–±—ã—á–Ω—ã–π</option>
                    <option value="18px">–°—Ä–µ–¥–Ω–∏–π</option>
                    <option value="24px">–ö—Ä—É–ø–Ω—ã–π</option>
                    <option value="32px">–û–≥—Ä–æ–º–Ω—ã–π</option>
                </select>
            </div>

            <!-- –ì—Ä—É–ø–ø–∞ —Å—Ç–∏–ª–µ–π —Ç–µ–∫—Å—Ç–∞ -->
            <div class="toolbar-group">
                <button class="toolbar-btn" data-command="bold" title="–ñ–∏—Ä–Ω—ã–π (Ctrl+B)">
                    <strong>B</strong>
                </button>
                <button class="toolbar-btn" data-command="italic" title="–ö—É—Ä—Å–∏–≤ (Ctrl+I)">
                    <em>I</em>
                </button>
                <button class="toolbar-btn" data-command="underline" title="–ü–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ (Ctrl+U)">
                    <u>U</u>
                </button>
                <button class="toolbar-btn" data-command="strikeThrough" title="–ó–∞—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ">
                    <s>S</s>
                </button>
                
                <div class="dropdown">
                    <button class="toolbar-btn dropdown-toggle" title="–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞">
                        üé®
                    </button>
                    <div class="dropdown-menu color-picker">
                        <div class="color-grid">
                            <div class="color-option" data-color="#000000" style="background: #000000"></div>
                            <div class="color-option" data-color="#ff0000" style="background: #ff0000"></div>
                            <div class="color-option" data-color="#00ff00" style="background: #00ff00"></div>
                            <div class="color-option" data-color="#0000ff" style="background: #0000ff"></div>
                            <div class="color-option" data-color="#ffff00" style="background: #ffff00"></div>
                            <div class="color-option" data-color="#ff00ff" style="background: #ff00ff"></div>
                            <div class="color-option" data-color="#00ffff" style="background: #00ffff"></div>
                            <div class="color-option" data-color="#ffffff" style="background: #ffffff; border: 1px solid #ccc"></div>
                        </div>
                        <input type="color" class="custom-color">
                    </div>
                </div>
            </div>

            <!-- –ì—Ä—É–ø–ø–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è -->
            <div class="toolbar-group">
                <button class="toolbar-btn" data-command="justifyLeft" title="–ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é">
                    ‚¨Ö
                </button>
                <button class="toolbar-btn" data-command="justifyCenter" title="–ü–æ —Ü–µ–Ω—Ç—Ä—É">
                    ‚Üî
                </button>
                <button class="toolbar-btn" data-command="justifyRight" title="–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é">
                    ‚û°
                </button>
                <button class="toolbar-btn" data-command="justifyFull" title="–ü–æ —à–∏—Ä–∏–Ω–µ">
                    ‚áÑ
                </button>
            </div>

            <!-- –ì—Ä—É–ø–ø–∞ —Å–ø–∏—Å–∫–æ–≤ -->
            <div class="toolbar-group">
                <button class="toolbar-btn" data-command="insertUnorderedList" title="–ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫">
                    ‚Ä¢ List
                </button>
                <button class="toolbar-btn" data-command="insertOrderedList" title="–ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫">
                    1. List
                </button>
                <button class="toolbar-btn" data-command="outdent" title="–£–º–µ–Ω—å—à–∏—Ç—å –æ—Ç—Å—Ç—É–ø">
                    ‚Üê
                </button>
                <button class="toolbar-btn" data-command="indent" title="–£–≤–µ–ª–∏—á–∏—Ç—å –æ—Ç—Å—Ç—É–ø">
                    ‚Üí
                </button>
            </div>

            <!-- –ì—Ä—É–ø–ø–∞ –≤—Å—Ç–∞–≤–∫–∏ -->
            <div class="toolbar-group">
                <button class="toolbar-btn" data-command="createLink" title="–í—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É (Ctrl+K)">
                    üîó
                </button>
                <button class="toolbar-btn image-upload-btn" title="–í—Å—Ç–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
                    üñºÔ∏è
                </button>
                <button class="toolbar-btn" data-command="insertHorizontalRule" title="–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è">
                    ‚Äï
                </button>
            </div>

            <!-- –ì—Ä—É–ø–ø–∞ –æ—Ç–º–µ–Ω—ã/–ø–æ–≤—Ç–æ—Ä–∞ -->
            <div class="toolbar-group">
                <button class="toolbar-btn" data-command="undo" title="–û—Ç–º–µ–Ω–∏—Ç—å (Ctrl+Z)">
                    ‚Ü∂
                </button>
                <button class="toolbar-btn" data-command="redo" title="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å (Ctrl+Y)">
                    ‚Ü∑
                </button>
                <button class="toolbar-btn" data-command="removeFormat" title="–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ">
                    üßπ
                </button>
            </div>

            <!-- –ì—Ä—É–ø–ø–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ -->
            <div class="toolbar-group export-group">
                <button class="toolbar-btn export-html" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å HTML">
                    HTML
                </button>
                <button class="toolbar-btn export-bbcode" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å BBCode">
                    BB
                </button>
                <button class="toolbar-btn save-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">
                    üíæ
                </button>
            </div>

            <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ -->
            <div class="toolbar-group mode-switcher">
                <button class="mode-btn active" data-mode="visual">–í–∏–∑—É–∞–ª—å–Ω—ã–π</button>
                <button class="mode-btn" data-mode="html">HTML</button>
                <button class="mode-btn" data-mode="bbcode">BBCode</button>
            </div>
        </div>

        <!-- –û–±–ª–∞—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div class="editor-content">
            <div class="visual-editor" id="visualEditor" contenteditable="true"></div>
            <textarea class="html-editor" id="htmlEditor" style="display: none;"></textarea>
            <textarea class="bbcode-editor" id="bbcodeEditor" style="display: none;"></textarea>
        </div>

        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="sidebar" id="sidebar">
            <div class="style-presets">
                <div class="preset" data-style="neutral">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è</div>
                <div class="preset" data-style="accent">–ê–∫—Ü–µ–Ω—Ç–Ω–∞—è</div>
                <div class="preset" data-style="success">–£—Å–ø–µ—Ö</div>
                <div class="preset" data-style="warning">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</div>
                <div class="preset" data-style="error">–û—à–∏–±–∫–∞</div>
                <div class="preset" data-style="info">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                <div class="preset" data-style="card">–ö–∞—Ä—Ç–æ—á–∫–∞</div>
                <div class="preset" data-style="badge">–ë–µ–π–¥–∂</div>
                <div class="preset" data-style="quote">–¶–∏—Ç–∞—Ç–∞</div>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å-–±–∞—Ä -->
        <div class="status-bar">
            <span class="char-count">0 —Å–∏–º–≤–æ–ª–æ–≤</span>
            <span class="mode-indicator">–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º</span>
            <span class="auto-save">–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</span>
        </div>
    </div>

    <script src="src/utils/helpers.js"></script>
    <script src="src/core/EventEmitter.js"></script>
    <script src="src/core/DocumentModel.js"></script>
    <script src="src/core/CommandManager.js"></script>
    <script src="src/modules/BBCodeParser.js"></script>
    <script src="src/modules/HTMLSanitizer.js"></script>
    <script src="src/modules/ImageManager.js"></script>
    <script src="src/modules/StylePresets.js"></script>
    <script src="src/modules/ExportManager.js"></script>
    <script src="src/modules/EnhancedToolbar.js"></script>
    <script src="src/core/Editor.js"></script>
    <script>
        const editor = new Editor({
            container: '#editorContainer',
            mode: 'visual'
        });
        
        // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
        window.editor = editor;
        
        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
        setTimeout(() => {
            editor.setContent('<h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1><p>–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.</p>');
        }, 500);
    </script>
</body>
</html>
